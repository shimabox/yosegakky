<!DOCTYPE html>
<html>
<head>
  <title></title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="robots" content="noindex,nofollow">

  <link rel="stylesheet" href="assets/vendor/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/vendor/font-awesome-4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="assets/vendor/lightcase-2.3.4/src/css/lightcase.css">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <div id="app">

    <section class="jumbotron text-xs-center">
      <div class="container" id="header"></div>
    </section>

    <div class="cards">
      <div class="container">
        <div class="row">
          <div class="card-columns" id="messages"></div>
        </div>
      </div>
    </div>

    <footer class="text-muted">
      <div class="container">
        <p class="pull-xs-right">
          <a href="#">Back to top</a>
        </p>
      </div>
    </footer>

  </div>

<script type="text/template" id="tmpl-header">
<% if (memories_cnt > 0) { %>
  <a href="#" id="memories"><%- title %></a>
  <div id="wrap-memories">
  <% for (var i=0; i < memories_cnt; i++) { %>
    <a class="memory-<%- i+1 %>" href="<%- memories[i].file_path %>" data-rel="lightcase:memories:slideshow" title="<%- memories[i].title %>">
    <%- memories[i].title %>
  </a>
  <% } %>
  </div>
<% } else { %>
  <%- title %>
<% } %>
</script>

<script type="text/template" id="tmpl-message">
<% if (hasImg) { %>
  <% if (isDummyImg) { %>
    <div class="dummy-img">
      <i class="fa fa-user fa-8x"></i>
    </div>
  <% } else { %>
    <img class="card-img-top" src="<%- imgPath %>" alt="">
  <% } %>
<% } %>
<div class="card-block">
  <h4 class="card-title">
    <span class="user-name"><%- userName %></span>
    <% if (hasVideo) { %>
    <a href="<%- videoPath %>" data-rel="lightcase" title="<%- userName %>" class="lc">
      <i class="fa fa-video-camera"></i>
    </a>
    <% } %>
  </h4>
  <p class="card-text<%- lineClampClassName %>">
    <a href="#inline-<%- inlineId %>" data-rel="lightcase:messages:slideshow" title="<%- userName %>">
      <%= message %>
    </a>
  </p>
</div>
<div class="wrap-overlay-message">
  <div class="overlay-message">
    <div class="overlay">
      <i class="fa fa-spinner fa-pulse"></i>
    </div>
  </div>
</div>
<div id="inline-<%- inlineId %>" style="display: none;">
  <p><%= message %></p>
</div>
</script>

<script src="assets/vendor/jquery/jquery-2.2.2.min.js"></script>
<script src="assets/js/tether.min.js"></script>
<script src="assets/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="assets/vendor/lightcase-2.3.4/src/js/lightcase.js"></script>
<script src="assets/vendor/underscore-1.8.3/underscore-min.js"></script>
<script src="assets/vendor/backbone-1.3.2/backbone-min.js"></script>
<script src="assets/js/yosegakky/ns.js"></script>
<script src="assets/js/yosegakky/config/config.js"></script>
<script src="assets/js/yosegakky/models/header.js"></script>
<script src="assets/js/yosegakky/models/message.js"></script>
<script src="assets/js/yosegakky/collections/message.js"></script>
<script src="assets/js/yosegakky/views/header.js"></script>
<script src="assets/js/yosegakky/views/message.js"></script>
<script src="assets/js/yosegakky/views/messages.js"></script>
<script src="assets/js/yosegakky/app.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="assets/js/ie10-viewport-bug-workaround.js"></script>
<script>
(function () {
  'use strict';

  // @see assets/js/yosegakky/config/config.js
  var config = {};

  // e.g. [{"userName": "hoge", "message": "hoge<br>piyo", "img": "dummy.jpg", "video": "dummy.mp4"}, {...}]
  var messages = [];

  new Yosegakky.App(config).render(messages);

})();
</script>
</body>
</html>
